var gDebug=true;var gDebugOnMobile=false;var gNumDebugMessagesSent=0;var gNumDebugMessagesQueued=0;var gDebugMessageQueue=new Array();var gDebugMessageRequest=null;var gDebugLastClassName="";var gDebugLastMethodName="";var gDebugSimulateSlowTextureDownload=false;var gDebugSimulateTextureLoadFailure=false;var gDebugSimulateScriptDownloadFailure=false;var kDebugFunction="function";var kDebugSurpressMessage="!NoOp_!NoOp";var kDebugSetupShowController=kDebugFunction+"_setupShowController";var kDebugShowController="!ShowController";var kDebugShowController_AddMovieHyperlink=kDebugShowController+"_!addMovieHyperlink";var kDebugShowController_AdvanceToNextBuild=kDebugShowController+"_!advanceToNextBuild";var kDebugShowController_AdvanceToNextSlide=kDebugShowController+"_!advanceToNextSlide";var kDebugShowController_AnchorPointOffset=kDebugShowController+"_!anchorPointOffset";var kDebugShowController_ApplyAnimationEndStateValues=kDebugShowController+"_!applyAnimationEndStateValues";var kDebugShowController_ApplyAnimationsForScene=kDebugShowController+"_!applyAnimationsForScene";var kDebugShowController_AssignNextSceneIndex=kDebugShowController+"_!assignNextSceneIndex";var kDebugShowController_CalculateNextSceneIndex=kDebugShowController+"_!calculateNextSceneIndex_internal";var kDebugShowController_CalculateNextSceneIndex=kDebugShowController+"_!calculateNextSceneIndex";var kDebugShowController_CalculateOffsetForAnchorPoint=kDebugShowController+"_!calculateOffsetForAnchorPoint";var kDebugShowController_CalculateOffsetForRotationOrigin=kDebugShowController+"_!calculateOffsetForRotationOrigin";var kDebugShowController_CalculatePreviousSceneIndex=kDebugShowController+"_!calculatePreviousSceneIndex";var kDebugShowController_ChangeState=kDebugShowController+"_!changeState";var kDebugShowController_ClearAllHyperlinks=kDebugShowController+"_!clearAllHyperlinks";var kDebugShowController_ClearMovieHyperlinks=kDebugShowController+"_!clearMovieHyperlinks";var kDebugShowController_CreateAnimationsForScene=kDebugShowController+"_!createAnimationsForScene";var kDebugShowController_CreateAnimationsForScene_Adjustments=kDebugShowController+"_!createAnimationsForScene";var kDebugShowController_CreateHyperlinks=kDebugShowController+"_!createHyperlinks";var kDebugShowController_CreateHyperlinksForCurrentState=kDebugShowController+"_!createHyperlinksForCurrentState";var kDebugShowController_CreateInitialKeyframeValue=kDebugShowController+"_!createInitialKeyframeValue";var kDebugShowController_CreateTimingFunctionForAction=kDebugShowController+"_!createTimingFunctionForAction";var kDebugShowController_CurrentSceneDidComplete=kDebugShowController+"_!currentSceneDidComplete";var kDebugShowController_DisplayScene=kDebugShowController+"_!displayScene";var kDebugShowController_DoIdleProcessing=kDebugShowController+"_!doIdleProcessing";var kDebugShowController_DumpPreProcessedEventAnimations=kDebugShowController+"_!debugDumpPreProcessedEventAnimations";var kDebugShowController_EnsureInitialStateHasEmphasisTransform=kDebugShowController+"_!ensureInitialStateHasEmphasisTransform";var kDebugShowController_EnteringState=kDebugShowController+"_!enteringState";var kDebugShowController_ExitShow=kDebugShowController+"_!exitShow";var kDebugShowController_ExtractDelegateFromUrlParameter=kDebugShowController+"_!extractDelegateFromUrlParameter";var kDebugShowController_FindHyperlinkAtCoOrds=kDebugShowController+"_!findHyperlinkAtCoOrds";var kDebugShowController_GetProperty=kDebugShowController+"_!getProperty";var kDebugShowController_GoBackToPreviousBuild=kDebugShowController+"_!goBackToPreviousBuild";var kDebugShowController_GoBackToPreviousSlide=kDebugShowController+"_!goBackToPreviousSlide";var kDebugShowController_GotoSlide=kDebugShowController+"_!gotoSlide";var kDebugShowController_HandleClickEvent=kDebugShowController+"_!handleClickEvent";var kDebugShowController_HandleKeyDownEvent=kDebugShowController+"_!handleKeyDownEvent";var kDebugShowController_HandleMovieDidEnd=kDebugShowController+"_!handleMovieDidEnd";var kDebugShowController_HandleMovieDidStart=kDebugShowController+"_!handleMovieDidStart";var kDebugShowController_HandleMovieError=kDebugShowController+"_!handleMovieError";var kDebugShowController_HandleSceneDidNotLoad=kDebugShowController+"_!handleSceneDidNotLoad";var kDebugShowController_HandleSceneDidLoad=kDebugShowController+"_!handleSceneDidLoad";var kDebugShowController_HandleScriptDidDownloadEvent=kDebugShowController+"_!handleScriptDidDownloadEvent";var kDebugShowController_HandleScriptDidNotDownloadEvent=kDebugShowController+"_!handleScriptDidNotDownloadEvent";var kDebugShowController_HandleStageIsReadyEvent=kDebugShowController+"_!handleStageIsReadyEvent";var kDebugShowController_HandleStageSizeDidChangeEvent=kDebugShowController+"_!handleStageSizeDidChangeEvent";var kDebugShowController_HandleSwipeEvent=kDebugShowController+"_!handleSwipeEvent";var kDebugShowController_HandleTapEvent=kDebugShowController+"_!handleTapEvent";var kDebugShowController_HideInfoPanel=kDebugShowController+"_!hideInfoPanel";var kDebugShowController_IncrementViewCount=kDebugShowController+"_!incrementViewCount";var kDebugShowController_Initialize=kDebugShowController+"_!initialize";var kDebugShowController_InitialStateForTexture=kDebugShowController+"_!initialStateForTexture";var kDebugShowController_IsSceneTransitionDelayOnly=kDebugShowController+"_!isSceneTransitionDelayOnly";var kDebugShowController_JumpToScene=kDebugShowController+"_!jumpToScene";var kDebugShowController_JumpToScene_partTwo=kDebugShowController+"_!jumpToScene_partTwo";var kDebugShowController_JumpToScene_partThree=kDebugShowController+"_!jumpToScene_partThree";var kDebugShowController_LeavingState=kDebugShowController+"_!leavingState";var kDebugShowController_OnKeyPress=kDebugShowController+"_!onKeyPress";var kDebugShowController_OnMouseDown=kDebugShowController+"_!onMouseDown";var kDebugShowController_Pause=kDebugShowController+"_!pause";var kDebugShowController_Play=kDebugShowController+"_!play";var kDebugShowController_PlayCurrentScene=kDebugShowController+"_!playCurrentScene";var kDebugShowController_PlayNextItemInSoundTrack=kDebugShowController+"_!playNextItemInSoundTrack";var kDebugShowController_PlayScene=kDebugShowController+"_!playScene";var kDebugShowController_PollForSceneToLoad=kDebugShowController+"_!pollForSceneToLoad";var kDebugShowController_PreloadAppropriateScenes=kDebugShowController+"_!preloadAppropriateScenes";var kDebugShowController_PreProcessSceneAnimations=kDebugShowController+"_!preProcessSceneAnimations";var kDebugShowController_ProcessClickOrTapAtDisplayCoOrds=kDebugShowController+"_!processClickOrTapAtDisplayCoOrds";var kDebugShowController_ProcessHyperlinkUrl=kDebugShowController+"_!processHyperlinkUrl";var kDebugShowController_PromptUserToTryAgain=kDebugShowController+"_!promptUserToTryAgain";var kDebugShowController_SetCurrentSceneIndexTo=kDebugShowController+"_!setCurrentSceneIndexTo";var kDebugShowController_SetDelegate=kDebugShowController+"_!setDelegate";var kDebugShowController_setMuted=kDebugShowController+"_!setMuted";var kDebugShowController_SetProperty=kDebugShowController+"_!setProperty";var kDebugShowController_SetupWaitForSceneToLoadPoller=kDebugShowController+"_!setupWaitForSceneToLoadPoller";var kDebugShowController_ShowInfoPanel=kDebugShowController+"_!showInfoPanel";var kDebugShowController_ShowWaitingIndicator=kDebugShowController+"_!showWaitingIndicator";var kDebugShowController_SoundTrackItemDidComplete=kDebugShowController+"_!soundTrackItemDidComplete";var kDebugShowController_StartMoviePlaying=kDebugShowController+"_!startMoviePlaying";var kDebugShowController_StartSoundTrack=kDebugShowController+"_!startSoundTrack";var kDebugShowController_ToggleMute=kDebugShowController+"_!toggleMute";var kDebugShowController_UpdateNavigationButtons=kDebugShowController+"_!updateNavigationButtons";var kDebugShowController_UpdateSlideNumber=kDebugShowController+"_!updateSlideNumber";var kDebugShowController_DiagnosticsDump=kDebugShowController+"_!debugDiagnosticDump";var kDebugShowController_DiagnosticsDump_Banner=false;var kDebugShowController_DiagnosticsDump_Header=false;var kDebugShowController_DiagnosticsDump_Animations=false;var kDebugShowController_DiagnosticsDump_Textures=false;var kDebugShowController_DiagnosticsDump_Hyperlinks=false;var kDebugShowController_DiagnosticsDump_TextureCache=false;var kDebugStageManager="!StageManager";var kDebugStageManager_AddHyperlink=kDebugStageManager+"_!addHyperlink";var kDebugStageManager_AddPreviousEmphasisTransformDiv=kDebugStageManager+"_!addPreviousEmphasisTransformDiv";var kDebugStageManager_AddTextureToStage=kDebugStageManager+"_!addTextureToStage";var kDebugStageManager_AdjustStageToFit=kDebugStageManager+"_!adjustStageToFit";var kDebugStageManager_ClearAllHyperlinks=kDebugStageManager+"_!clearAllHyperlinks";var kDebugStageManager_GetImgElementFromPool=kDebugStageManager+"_!getImgElementFromPool";var kDebugStageManager_HandleShowSizeDidChangeEvent=kDebugStageManager+"_!handleShowSizeDidChangeEvent";var kDebugStageManager_HandleStageSizeDidChangeEvent=kDebugStageManager+"_!handleStageSizeDidChangeEvent";var kDebugStageManager_Initialize=kDebugStageManager+"_!initialize";var kDebugStageManager_ReturnImgElementToPool=kDebugStageManager+"_!returnImgElementToPool";var kDebugStageManager_DebugRecursivelyWalkDomFrom=kDebugStageManager+"_recursivelyWalkDomFrom";var kDebugStageManager_SetMutedStateOnAllVideoElements=kDebugStageManager+"_!setMutedStateOnAllVideoElements";var kDebugTextureManager="!TextureManager";var kDebugTextureManager_Initialize=kDebugTextureManager+"_!initialize";var kDebugTextureManager_CacheEntryForScene=kDebugTextureManager+"_!cacheEntryForScene";var kDebugTextureManager_DumpCache=kDebugTextureManager+"_!dumpCache";var kDebugTextureManager_GetCacheStatistics=kDebugTextureManager+"_!getCacheStatistics";var kDebugTextureManager_GetImageObjectFromPool=kDebugTextureManager+"_!getImageObjectFromPool";var kDebugTextureManager_HandleScriptDidDownloadEvent=kDebugTextureManager+"_!handleScriptDidDownloadEvent";var kDebugTextureManager_LoadScene=kDebugTextureManager+"_!loadScene";var kDebugTextureManager_IsScenePreloaded=kDebugTextureManager+"_!isScenePreloaded";var kDebugTextureManager_PreloadScenes=kDebugTextureManager+"_!preloadScenes";var kDebugTextureManager_PreloadTexture=kDebugTextureManager+"_!preloadTexture";var kDebugTextureManager_PurgeCacheEntry=kDebugTextureManager+"_!purgeCacheEntry";var kDebugTextureManager_ReturnImageObjectToPool=kDebugTextureManager+"_!returnImageObjectToPool";var kDebugTextureManager_TextureDidPreload=kDebugTextureManager+"_!textureDidPreload";var kDebugTextureManager_TextureDidNotPreload=kDebugTextureManager+"_!textureDidNotPreload";var kDebugTextureManager_TrackTextureLifetime=kDebugTextureManager+"_!trackTextureLifetime";var kDebugTextureManager_UnloadScene=kDebugTextureManager+"_!unloadScene";var kDebugTextureManager_UrlForTexture=kDebugTextureManager+"_!urlForTexture";var kDebugDisplayManager="!DisplayManager";var kDebugDisplayManager_ClearLaunchMode=kDebugDisplayManager+"_!clearLaunchMode";var kDebugDisplayManager_ConvertDisplayCoOrdsToShowCoOrds=kDebugDisplayManager+"_!convertDisplayCoOrdsToShowCoOrds";var kDebugDisplayManager_DocumentInfoDidLoad=kDebugDisplayManager+"_!documentInfoDidLoad";var kDebugDisplayManager_DocumentInfoDidNotLoad=kDebugDisplayManager+"_!documentInfoDidNotLoad";var kDebugDisplayManager_HandleMouseMove=kDebugDisplayManager+"_!handleMouseMove";var kDebugDisplayManager_HandleMouseOut=kDebugDisplayManager+"_!handleMouseOut";var kDebugDisplayManager_HandleMouseOutHUD=kDebugDisplayManager+"_!handleMouseOutHUD";var kDebugDisplayManager_HandleMouseOverHUD=kDebugDisplayManager+"_!handleMouseOverHUD";var kDebugDisplayManager_HandleOrientationDidChangeEvent=kDebugDisplayManager+"_!handleOrientationDidChangeEvent";var kDebugDisplayManager_HandleShowSizeDidChangeEvent=kDebugDisplayManager+"_!handleShowSizeDidChangeEvent";var kDebugDisplayManager_HandleTimeoutForHUD=kDebugDisplayManager+"_!handleTimeoutForHUD";var kDebugDisplayManager_HideHUD=kDebugDisplayManager+"_!hideHUD";var kDebugDisplayManager_HideInfoPanel=kDebugDisplayManager+"_!hideInfoPanel";var kDebugDisplayManager_HideWaitingIndicator=kDebugDisplayManager+"_!hideWaitingIndicator";var kDebugDisplayManager_Initialize=kDebugDisplayManager+"_!initialize";var kDebugDisplayManager_LayoutDisplay=kDebugDisplayManager+"_!layoutDisplay";var kDebugDisplayManager_PositionHUD=kDebugDisplayManager+"_!positionHUD";var kDebugDisplayManager_PositionWaitingIndicator=kDebugDisplayManager+"_!positionWaitingIndicator";var kDebugDisplayManager_PreloadImage=kDebugDisplayManager+"_!preloadImage";var kDebugDisplayManager_SetEmbeddedRestartButtonEnabled=kDebugDisplayManager+"_!setEmbeddedRestartButtonEnabled";var kDebugDisplayManager_SetHudMuteButtonState=kDebugDisplayManager+"_!setHudMuteButtonState";var kDebugDisplayManager_SetNextButtonEnabled=kDebugDisplayManager+"_!setNextButtonEnabled";var kDebugDisplayManager_SetPreviousButtonEnabled=kDebugDisplayManager+"_!setPreviousButtonEnabled";var kDebugDisplayManager_ShowApplicableControls=kDebugDisplayManager+"_!showApplicableControls";var kDebugDisplayManager_ShowHUD=kDebugDisplayManager+"_!showHUD";var kDebugDisplayManager_ShowInfoPanel=kDebugDisplayManager+"_!showInfoPanel";var kDebugDisplayManager_ShowWaitingIndicator=kDebugDisplayManager+"_!showWaitingIndicator";var kDebugDisplayManager_UpdateSlideNumber=kDebugDisplayManager+"_!updateSlideNumber";var kDebugAnimationManager="!AnimationManager";var kDebugAnimationManager_CreateAnimation=kDebugAnimationManager+"_!createAnimation";var kDebugAnimationManager_DeleteAllAnimations=kDebugAnimationManager+"_!deleteAllAnimations";var kDebugAnimationManager_DeleteAnimation=kDebugAnimationManager+"_!deleteAnimation";var kDebugAnimationManager_FindAnimation=kDebugAnimationManager+"_!findAnimation";var kDebugOrientationController="!OrientationController";var kDebugOrientationController_ChangeOrientation=kDebugOrientationController+"_!changeOrientation";var kDebugOrientationController_HandleDeviceOrientationChangeEvent=kDebugOrientationController+"_!handleDeviceOrientationChangeEvent";var kDebugOrientationController_HandleWindowResizeEvent=kDebugOrientationController+"_!handleWindowResizeEvent";var kDebugOrientationController_Initialize=kDebugOrientationController+"_!initialize";var kDebugTouchController="!TouchController";var kDebugTouchController_HandleGestureEndEvent=kDebugTouchController+"_!handleGestureEndEvent";var kDebugTouchController_HandleGestureStartEvent=kDebugTouchController+"_!handleGestureStartEvent";var kDebugTouchController_HandleTouchCancelEvent=kDebugTouchController+"_!handleTouchCancelEvent";var kDebugTouchController_HandleTouchCancelEvent=kDebugTouchController+"_!handleTouchMoveEvent";var kDebugTouchController_HandleTouchEndEvent=kDebugTouchController+"_!handleTouchEndEvent";var kDebugTouchController_HandleTouchStartEvent=kDebugTouchController+"_!handleTouchStartEvent";var kDebugTouchController_Initialize=kDebugTouchController+"_!initialize";var kDebugTouchController_IsTouchWithinTrackArea=kDebugTouchController+"_!isTouchWithinTrackArea";var kDebugTouchController_SetTrackArea=kDebugTouchController+"_!setTrackArea";var kDebugScriptMangaer="!ScriptManager";var kDebugScriptMangaer_Initialize=kDebugScriptMangaer+"_!initialize";var kDebugScriptMangaer_DownloadScript=kDebugScriptMangaer+"_!downloadScript";var kDebugScriptMangaer_ScriptDidDownload=kDebugScriptMangaer+"_!scriptDidDownload";var kDebugScriptMangaer_ScriptDidNotDownload=kDebugScriptMangaer+"_!scriptDidNotDownload";var kDebugScriptMangaer_IsOnlyActionInSceneAMovieStart=kDebugScriptMangaer+"_!isOnlyActionInSceneAMovieStart";var kDebugScriptMangaer_IsMovieInScene=kDebugScriptMangaer+"_!isMovieInScene";var kDebugScriptMangaer_GetMoviesInScene=kDebugScriptMangaer+"_!getMoviesInScene";var kDebugScriptMangaer_PreProcessScript=kDebugScriptMangaer+"_!preProcessScript";var kDebugScriptMangaer_PreProcessScript_Detailed=kDebugScriptMangaer+"_!preProcessScript";var kDebugScriptMangaer_PreProcessScript_ExtremelyDetailed=kDebugScriptMangaer+"_!preProcessScript";var kDebugScriptMangaer_SceneIndexFromSlideIndex=kDebugScriptMangaer+"_!sceneIndexFromSlideIndex";var kDebugScriptMangaer_SlideIndexFromSceneIndex=kDebugScriptMangaer+"_!slideIndexFromSceneIndex";var kDebugTimer="DebugTimer";var kDebugTimer_AdvanceToNextBuild=kDebugTimer+"_!advanceToNextBuild";var kDebugTimer_CreateAnimationsForScene=kDebugTimer+"_!createAnimationsForScene";var kDebugTimer_ApplyAnimationsForScene=kDebugTimer+"_!applyAnimationsForScene";var kDebugTimer_PreProcessSceneAnimations=kDebugTimer+"_!preProcessSceneAnimations";var kDebugTimer_AdvanceToNextBuild_to_ApplyAnimations=kDebugTimer+"_!preProcessSceneAnimations_to_ApplyAnimations";var kDebugTimer_JumpToScene=kDebugTimer+"_!jumpToScene";var kDebugTimer_DisplayScene=kDebugTimer+"_!displayScene";var kDebugNullDelegate="!NullDelegate";var kDebugNullDelegate_initialize=kDebugNullDelegate+"_!initialize";var kDebugNullDelegate_showDidLoad=kDebugNullDelegate+"_!showDidLoad";var kDebugNullDelegate_showExited=kDebugNullDelegate+"_!showExited";var kDebugNullDelegate_propertyChanged=kDebugNullDelegate+"_!propertyChanged";function debugWarning(a,b){if(gDebug==false){return}debugSendMessage(a,"WARNING: "+b,true)}function debugMessageAlways(a,b){debugSendMessage(a,b,true)}function debugMessage(a,b){if(gDebug==false){return}if((gDevice==kDeviceMobile)&&(gDebugOnMobile==false)){return}debugSendMessage(a,b,false)}function debugSendMessage(b,g,a){var e=b.indexOf("_");var d=b.substring(0,e);var h=b.substring(e+1);var f=false;if(d[0]=="!"){d=d.substring(1);f=true}if(h[0]=="!"){h=h.substring(1);f=true}if(h[0]=="+"){h=h.substring(1);a=true}if((f==true)&&(a==false)){return}var c="";if(g==null){g=""}if(g[0]!="-"||d!=gDebugLastClassName||h!=gDebugLastMethodName){if(d==kDebugTimer){c=b+": "}else{if(d==kDebugFunction){c=h+"() "}else{c=d+"."+h+"() "}}}else{c=""}gDebugLastClassName=d;gDebugLastMethodName=h;if(gDevice==kDeviceMobile){gNumDebugMessagesSent++;var i=escape(gNumDebugMessagesSent+": "+c+g);gDebugMessageQueue[gNumDebugMessagesQueued]=i;gNumDebugMessagesQueued++;if(gNumDebugMessagesQueued==1){debugCheckMessageQueue()}}else{window.console.log(c+g)}}function debugSendNextMessageInQueue(){var b=gDebugMessageQueue[0];gNumDebugMessagesQueued--;gDebugMessageQueue.splice(0,1);var a='/debugMessage.rhtml?message="'+b+'"';new Ajax.Request(a,{method:"get",onSuccess:function(c){debugMessageWasSent(c)},onFailure:function(c){debugMessageWasNotSent(c)}})}function debugMessageWasSent(a){debugCheckMessageQueue()}function debugMessageWasNotSent(a){debugCheckMessageQueue()}function debugCheckMessageQueue(){if(gNumDebugMessagesQueued>0){setTimeout(debugSendNextMessageInQueue,10)}}var DebugTimer=Class.create({initialize:function(a){var b=a.indexOf("_");var c=a.substring(b+1);if(c[0]!="!"){this.id=a;this.startTime=new Date();debugMessageAlways(a,"Start")}else{this.startTime=null}},stop:function(){if(this.startTime!=null){var b=new Date();var a=b-this.startTime;debugMessageAlways(this.id,"Stop - Elapsed Time: "+a)}}});function debugStopTimer(a){if(a){a.stop()}}var debugDomDumpLineNumber=0;function debugDumpDomFrom(c,b){return;var a=kDebugFunction+"_debugDumpDomFrom";debugDomDumpLineNumber=0;debugMessageAlways(a,"------------------ S T A R T   O F   D O M   D U M P --- Context: "+b);debugRecursivelyDumpDomFrom(c,"");debugMessageAlways(a,"------------------ E N D   O F   D O M   D U M P")}function debugRecursivelyDumpDomFrom(d,g){var e=kDebugFunction+"_recursivelyDumpDomFrom";var b=d.id;var a=d.nodeName.toLowerCase();if(a=="#text"){return}debugMessageAlways(e,"-"+(debugDomDumpLineNumber++)+g+"<"+a+" id='"+b+"'>");var c;for(c=0;c<d.childNodes.length;c++){var f=d.childNodes[c];recursivelyDumpDomFrom(f,g+"   ")}if(a=="img"){return}debugMessageAlways(e,"-"+(debugDomDumpLineNumber++)+g+"</"+a+">")};